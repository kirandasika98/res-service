apiVersion: apps/v1
kind: Deployment
metadata:
    name: resume-server
    namespace: default
    labels:
        type: help
spec:
    replicas: 1
    selector:
        matchLabels:
            app: resumes-server
    template:
        metadata:
            labels:
                app: resumes-server
        spec:
            containers:
            - name: server
              image: kirandasika30/resume-server
              imagePullPolicy: Always
              ports:
                  - containerPort: 8000
              args:
              - -logtostderr=true
              - -v=0
              - --listen_addr=:8000
              - --kube
              env:
              - name: GCS_SECRETS
                valueFrom:
                    secretKeyRef:
                        name: resume-gcs-secrets
                        key: gcs.json
              resources:
                requests:
                  cpu: "10m"
                  memory: "30Mi"
                limits:
                  cpu: "25m"
                  memory: "50Mi"

